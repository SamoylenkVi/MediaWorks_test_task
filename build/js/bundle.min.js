"use strict";const accordions=document.querySelectorAll(".footer__accordion"),toggleVisibility=e=>{e.target.classList.contains("footer__button")&&(accordions.forEach(o=>{e.currentTarget!==o&&(o.classList.add("footer__accordion--close"),o.querySelector(".footer__button").classList.remove("footer__button--close"))}),e.target.classList.toggle("footer__button--close"),e.currentTarget.classList.toggle("footer__accordion--close"))};accordions&&accordions.length>0&&accordions.forEach(e=>{e.classList.add("footer__accordion--close"),e.addEventListener("click",toggleVisibility)});const regexPhoneSubmit=/^(\+7|8)?[\s\-]?\(?[0-9]{3}\)?[\s\-]?[0-9]{3}[\s\-]?[0-9]{2}[\s\-]?[0-9]{2}$/,regexPhoneInput=/[^+-\d\s/(/)]/gi,mainPhone=document.querySelector("#phone"),mainName=document.querySelector("#name"),mainForm=document.querySelector("section.form form"),popupPhone=document.querySelector("#popup-phone"),popupName=document.querySelector("#popup-name"),popupForm=document.querySelector("section.popup form"),validate=(e,o,t)=>{e&&e.addEventListener("input",()=>{e.value=e.value.replaceAll(regexPhoneInput,"")}),t&&o&&e&&(t.setAttribute("novalidate","novalidate"),t.addEventListener("submit",t=>{const p=-1!==e.value.search(regexPhoneSubmit),n=0!==o.value.length;p&&n||t.preventDefault(),p?e.classList.remove("invalid"):e.classList.add("invalid"),n?o.classList.remove("invalid"):o.classList.add("invalid")}))};validate(mainPhone,mainName,mainForm),validate(popupPhone,popupName,popupForm);const Keys={ESCAPE:"Escape",ESC:"Esc"},buttonPopupOpen=document.querySelector(".header__button"),popup=document.querySelector(".popup"),popupUnderlay=popup.querySelector(".popup__underlay"),popupButtonClose=popup.querySelector(".popup__close"),inputName=popup.querySelector('input[name="username"]'),isPopupExist=popup&&buttonPopupOpen&&popupUnderlay&&popupButtonClose&&inputName,openPopupHandler=e=>{e.preventDefault(),popup.style.display="block",inputName.focus(),popupUnderlay.addEventListener("click",closePopupHandler),popupButtonClose.addEventListener("click",closePopupHandler),document.addEventListener("keydown",escapeKeydownHandler)},closePopupHandler=e=>{e.preventDefault(),popup.style.display="none",popupUnderlay.removeEventListener("click",closePopupHandler),popupButtonClose.removeEventListener("click",closePopupHandler),document.removeEventListener("keydown",escapeKeydownHandler)},escapeKeydownHandler=e=>{e.key!==Keys.ESCAPE&&e.key!==Keys.ESC||closePopupHandler(e)};isPopupExist&&buttonPopupOpen.addEventListener("click",openPopupHandler);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImFjY29yZGlvbnMuanMiLCJmb3JtLmpzIiwicG9wdXAuanMiXSwibmFtZXMiOlsiYWNjb3JkaW9ucyIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvckFsbCIsInRvZ2dsZVZpc2liaWxpdHkiLCJldnQiLCJ0YXJnZXQiLCJjbGFzc0xpc3QiLCJjb250YWlucyIsImZvckVhY2giLCJhY2NvcmRpb24iLCJjdXJyZW50VGFyZ2V0IiwiYWRkIiwicXVlcnlTZWxlY3RvciIsInJlbW92ZSIsInRvZ2dsZSIsImxlbmd0aCIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZWdleFBob25lU3VibWl0IiwicmVnZXhQaG9uZUlucHV0IiwibWFpblBob25lIiwibWFpbk5hbWUiLCJtYWluRm9ybSIsInBvcHVwUGhvbmUiLCJwb3B1cE5hbWUiLCJwb3B1cEZvcm0iLCJ2YWxpZGF0ZSIsImlucHV0UGhvbmUiLCJpbnB1dE5hbWUiLCJmb3JtIiwidmFsdWUiLCJyZXBsYWNlQWxsIiwic2V0QXR0cmlidXRlIiwiaXNQaG9uZVZhbGlkIiwic2VhcmNoIiwiaXNOYW1lVmFsaWQiLCJwcmV2ZW50RGVmYXVsdCIsIktleXMiLCJFU0NBUEUiLCJFU0MiLCJidXR0b25Qb3B1cE9wZW4iLCJwb3B1cCIsInBvcHVwVW5kZXJsYXkiLCJwb3B1cEJ1dHRvbkNsb3NlIiwiaXNQb3B1cEV4aXN0Iiwib3BlblBvcHVwSGFuZGxlciIsInN0eWxlIiwiZGlzcGxheSIsImZvY3VzIiwiY2xvc2VQb3B1cEhhbmRsZXIiLCJlc2NhcGVLZXlkb3duSGFuZGxlciIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJrZXkiXSwibWFwcGluZ3MiOiJBQUFBLGFBQ0EsTUFBQUEsV0FBQUMsU0FBQUMsaUJBQUEsc0JBRUFDLGlCQUFBQyxJQUNBQSxFQUFBQyxPQUFBQyxVQUFBQyxTQUFBLG9CQUNBUCxXQUFBUSxRQUFBQyxJQUNBTCxFQUFBTSxnQkFBQUQsSUFDQUEsRUFBQUgsVUFBQUssSUFBQSw0QkFDQUYsRUFBQUcsY0FBQSxtQkFBQU4sVUFBQU8sT0FBQSw0QkFJQVQsRUFBQUMsT0FBQUMsVUFBQVEsT0FBQSx5QkFDQVYsRUFBQU0sY0FBQUosVUFBQVEsT0FBQSw4QkFJQWQsWUFBQUEsV0FBQWUsT0FBQSxHQUNBZixXQUFBUSxRQUFBQyxJQUNBQSxFQUFBSCxVQUFBSyxJQUFBLDRCQUNBRixFQUFBTyxpQkFBQSxRQUFBYixvQkNuQkEsTUFBQWMsaUJBQUEsK0VBQ0FDLGdCQUFBLGtCQUNBQyxVQUFBbEIsU0FBQVcsY0FBQSxVQUNBUSxTQUFBbkIsU0FBQVcsY0FBQSxTQUNBUyxTQUFBcEIsU0FBQVcsY0FBQSxxQkFDQVUsV0FBQXJCLFNBQUFXLGNBQUEsZ0JBQ0FXLFVBQUF0QixTQUFBVyxjQUFBLGVBQ0FZLFVBQUF2QixTQUFBVyxjQUFBLHNCQUVBYSxTQUFBLENBQUFDLEVBQUFDLEVBQUFDLEtBQ0FGLEdBQ0FBLEVBQUFWLGlCQUFBLFFBQUEsS0FDQVUsRUFBQUcsTUFBQUgsRUFBQUcsTUFBQUMsV0FBQVosZ0JBQUEsTUFHQVUsR0FBQUQsR0FBQUQsSUFDQUUsRUFBQUcsYUFBQSxhQUFBLGNBQ0FILEVBQUFaLGlCQUFBLFNBQUFaLElBRUEsTUFBQTRCLEdBQUEsSUFBQU4sRUFBQUcsTUFBQUksT0FBQWhCLGtCQUNBaUIsRUFBQSxJQUFBUCxFQUFBRSxNQUFBZCxPQUVBaUIsR0FBQUUsR0FDQTlCLEVBQUErQixpQkFHQUgsRUFHQU4sRUFBQXBCLFVBQUFPLE9BQUEsV0FGQWEsRUFBQXBCLFVBQUFLLElBQUEsV0FLQXVCLEVBR0FQLEVBQUFyQixVQUFBTyxPQUFBLFdBRkFjLEVBQUFyQixVQUFBSyxJQUFBLGVBUUFjLFNBQUFOLFVBQUFDLFNBQUFDLFVBQ0FJLFNBQUFILFdBQUFDLFVBQUFDLFdDekNBLE1BQUFZLEtBQUEsQ0FDQUMsT0FBQSxTQUNBQyxJQUFBLE9BR0FDLGdCQUFBdEMsU0FBQVcsY0FBQSxtQkFDQTRCLE1BQUF2QyxTQUFBVyxjQUFBLFVBQ0E2QixjQUFBRCxNQUFBNUIsY0FBQSxvQkFDQThCLGlCQUFBRixNQUFBNUIsY0FBQSxpQkFDQWUsVUFBQWEsTUFBQTVCLGNBQUEsMEJBRUErQixhQUFBSCxPQUFBRCxpQkFBQUUsZUFBQUMsa0JBQUFmLFVBRUFpQixpQkFBQXhDLElBQ0FBLEVBQUErQixpQkFFQUssTUFBQUssTUFBQUMsUUFBQSxRQUNBbkIsVUFBQW9CLFFBRUFOLGNBQUF6QixpQkFBQSxRQUFBZ0MsbUJBQ0FOLGlCQUFBMUIsaUJBQUEsUUFBQWdDLG1CQUNBL0MsU0FBQWUsaUJBQUEsVUFBQWlDLHVCQUdBRCxrQkFBQTVDLElBQ0FBLEVBQUErQixpQkFFQUssTUFBQUssTUFBQUMsUUFBQSxPQUVBTCxjQUFBUyxvQkFBQSxRQUFBRixtQkFDQU4saUJBQUFRLG9CQUFBLFFBQUFGLG1CQUNBL0MsU0FBQWlELG9CQUFBLFVBQUFELHVCQUdBQSxxQkFBQTdDLElBQ0FBLEVBQUErQyxNQUFBZixLQUFBQyxRQUFBakMsRUFBQStDLE1BQUFmLEtBQUFFLEtBQ0FVLGtCQUFBNUMsSUFJQXVDLGNBQ0FKLGdCQUFBdkIsaUJBQUEsUUFBQTRCIiwiZmlsZSI6ImJ1bmRsZS5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyIndXNlIHN0cmljdCc7XG5jb25zdCBhY2NvcmRpb25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLmZvb3Rlcl9fYWNjb3JkaW9uJyk7XG5cbmNvbnN0IHRvZ2dsZVZpc2liaWxpdHkgPSAoZXZ0KSA9PiB7XG4gIGlmIChldnQudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucygnZm9vdGVyX19idXR0b24nKSkge1xuICAgIGFjY29yZGlvbnMuZm9yRWFjaCgoYWNjb3JkaW9uKSA9PiB7XG4gICAgICBpZiAoZXZ0LmN1cnJlbnRUYXJnZXQgIT09IGFjY29yZGlvbikge1xuICAgICAgICBhY2NvcmRpb24uY2xhc3NMaXN0LmFkZCgnZm9vdGVyX19hY2NvcmRpb24tLWNsb3NlJyk7XG4gICAgICAgIGFjY29yZGlvbi5xdWVyeVNlbGVjdG9yKCcuZm9vdGVyX19idXR0b24nKS5jbGFzc0xpc3QucmVtb3ZlKCdmb290ZXJfX2J1dHRvbi0tY2xvc2UnKTtcbiAgICAgIH1cbiAgICB9KTtcblxuICAgIGV2dC50YXJnZXQuY2xhc3NMaXN0LnRvZ2dsZSgnZm9vdGVyX19idXR0b24tLWNsb3NlJyk7XG4gICAgZXZ0LmN1cnJlbnRUYXJnZXQuY2xhc3NMaXN0LnRvZ2dsZSgnZm9vdGVyX19hY2NvcmRpb24tLWNsb3NlJyk7XG4gIH1cbn07XG5cbmlmIChhY2NvcmRpb25zICYmIGFjY29yZGlvbnMubGVuZ3RoID4gMCkge1xuICBhY2NvcmRpb25zLmZvckVhY2goKGFjY29yZGlvbikgPT4ge1xuICAgIGFjY29yZGlvbi5jbGFzc0xpc3QuYWRkKCdmb290ZXJfX2FjY29yZGlvbi0tY2xvc2UnKTtcbiAgICBhY2NvcmRpb24uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCB0b2dnbGVWaXNpYmlsaXR5KTtcbiAgfSk7XG59XG4iLCIndXNlIHN0cmljdCc7XG5jb25zdCByZWdleFBob25lU3VibWl0ID0gL14oXFwrN3w4KT9bXFxzXFwtXT9cXCg/WzAtOV17M31cXCk/W1xcc1xcLV0/WzAtOV17M31bXFxzXFwtXT9bMC05XXsyfVtcXHNcXC1dP1swLTldezJ9JC87XG5jb25zdCByZWdleFBob25lSW5wdXQgPSAvW14rLVxcZFxccy8oLyldL2dpO1xuY29uc3QgbWFpblBob25lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3Bob25lJyk7XG5jb25zdCBtYWluTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNuYW1lJyk7XG5jb25zdCBtYWluRm9ybSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ3NlY3Rpb24uZm9ybSBmb3JtJyk7XG5jb25zdCBwb3B1cFBob25lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI3BvcHVwLXBob25lJyk7XG5jb25zdCBwb3B1cE5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjcG9wdXAtbmFtZScpO1xuY29uc3QgcG9wdXBGb3JtID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcignc2VjdGlvbi5wb3B1cCBmb3JtJyk7XG5cbmNvbnN0IHZhbGlkYXRlID0gKGlucHV0UGhvbmUsIGlucHV0TmFtZSwgZm9ybSkgPT4ge1xuICBpZiAoaW5wdXRQaG9uZSkge1xuICAgIGlucHV0UGhvbmUuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XG4gICAgICBpbnB1dFBob25lLnZhbHVlID0gaW5wdXRQaG9uZS52YWx1ZS5yZXBsYWNlQWxsKHJlZ2V4UGhvbmVJbnB1dCwgJycpO1xuICAgIH0pO1xuICB9XG4gIGlmIChmb3JtICYmIGlucHV0TmFtZSAmJiBpbnB1dFBob25lKSB7XG4gICAgZm9ybS5zZXRBdHRyaWJ1dGUoJ25vdmFsaWRhdGUnLCAnbm92YWxpZGF0ZScpO1xuICAgIGZvcm0uYWRkRXZlbnRMaXN0ZW5lcignc3VibWl0JywgKGV2dCkgPT4ge1xuXG4gICAgICBjb25zdCBpc1Bob25lVmFsaWQgPSBpbnB1dFBob25lLnZhbHVlLnNlYXJjaChyZWdleFBob25lU3VibWl0KSAhPT0gLTE7XG4gICAgICBjb25zdCBpc05hbWVWYWxpZCA9IGlucHV0TmFtZS52YWx1ZS5sZW5ndGggIT09IDA7XG5cbiAgICAgIGlmICghaXNQaG9uZVZhbGlkIHx8ICFpc05hbWVWYWxpZCkge1xuICAgICAgICBldnQucHJldmVudERlZmF1bHQoKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFpc1Bob25lVmFsaWQpIHtcbiAgICAgICAgaW5wdXRQaG9uZS5jbGFzc0xpc3QuYWRkKCdpbnZhbGlkJyk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbnB1dFBob25lLmNsYXNzTGlzdC5yZW1vdmUoJ2ludmFsaWQnKTtcbiAgICAgIH1cblxuICAgICAgaWYgKCFpc05hbWVWYWxpZCkge1xuICAgICAgICBpbnB1dE5hbWUuY2xhc3NMaXN0LmFkZCgnaW52YWxpZCcpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaW5wdXROYW1lLmNsYXNzTGlzdC5yZW1vdmUoJ2ludmFsaWQnKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufTtcblxudmFsaWRhdGUobWFpblBob25lLCBtYWluTmFtZSwgbWFpbkZvcm0pO1xudmFsaWRhdGUocG9wdXBQaG9uZSwgcG9wdXBOYW1lLCBwb3B1cEZvcm0pO1xuIiwiJ3VzZSBzdHJpY3QnO1xuXG5jb25zdCBLZXlzID0ge1xuICBFU0NBUEU6ICdFc2NhcGUnLFxuICBFU0M6ICdFc2MnLFxufTtcblxuY29uc3QgYnV0dG9uUG9wdXBPcGVuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmhlYWRlcl9fYnV0dG9uJyk7XG5jb25zdCBwb3B1cCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cCcpO1xuY29uc3QgcG9wdXBVbmRlcmxheSA9IHBvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fdW5kZXJsYXknKTtcbmNvbnN0IHBvcHVwQnV0dG9uQ2xvc2UgPSBwb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Nsb3NlJyk7XG5jb25zdCBpbnB1dE5hbWUgPSBwb3B1cC5xdWVyeVNlbGVjdG9yKCdpbnB1dFtuYW1lPVwidXNlcm5hbWVcIl0nKTtcblxuY29uc3QgaXNQb3B1cEV4aXN0ID0gcG9wdXAgJiYgYnV0dG9uUG9wdXBPcGVuICYmIHBvcHVwVW5kZXJsYXkgJiYgcG9wdXBCdXR0b25DbG9zZSAmJiBpbnB1dE5hbWU7XG5cbmNvbnN0IG9wZW5Qb3B1cEhhbmRsZXIgPSAoZXZ0KSA9PiB7XG4gIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gIHBvcHVwLnN0eWxlLmRpc3BsYXkgPSAnYmxvY2snO1xuICBpbnB1dE5hbWUuZm9jdXMoKTtcblxuICBwb3B1cFVuZGVybGF5LmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VQb3B1cEhhbmRsZXIpO1xuICBwb3B1cEJ1dHRvbkNsb3NlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgY2xvc2VQb3B1cEhhbmRsZXIpO1xuICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgZXNjYXBlS2V5ZG93bkhhbmRsZXIpO1xufTtcblxuY29uc3QgY2xvc2VQb3B1cEhhbmRsZXIgPSAoZXZ0KSA9PiB7XG4gIGV2dC5wcmV2ZW50RGVmYXVsdCgpO1xuXG4gIHBvcHVwLnN0eWxlLmRpc3BsYXkgPSAnbm9uZSc7XG5cbiAgcG9wdXBVbmRlcmxheS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlUG9wdXBIYW5kbGVyKTtcbiAgcG9wdXBCdXR0b25DbG9zZS5yZW1vdmVFdmVudExpc3RlbmVyKCdjbGljaycsIGNsb3NlUG9wdXBIYW5kbGVyKTtcbiAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIGVzY2FwZUtleWRvd25IYW5kbGVyKTtcbn07XG5cbmNvbnN0IGVzY2FwZUtleWRvd25IYW5kbGVyID0gKGV2dCkgPT4ge1xuICBpZiAoZXZ0LmtleSA9PT0gS2V5cy5FU0NBUEUgfHwgZXZ0LmtleSA9PT0gS2V5cy5FU0MpIHtcbiAgICBjbG9zZVBvcHVwSGFuZGxlcihldnQpO1xuICB9XG59O1xuXG5pZiAoaXNQb3B1cEV4aXN0KSB7XG4gIGJ1dHRvblBvcHVwT3Blbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIG9wZW5Qb3B1cEhhbmRsZXIpO1xufVxuXG4iXX0=
